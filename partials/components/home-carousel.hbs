{{!--
    Home carousel: one slide per post with the given tag.
    Content from the site: each slide = one Post (feature image, title, excerpt).
    Caller must pass tagSlug (e.g. from Design â†’ Homepage "Tag slug for home carousel slides").
    Order: published_at asc (oldest first).
--}}
{{#get "posts" filter=(concat "tag:" tagSlug) limit="10" order="published_at asc"}}
    {{#if posts}}
        <section class="gh-home-carousel gh-outer">
            <div class="gh-inner">
                <div class="splide gh-home-splide" id="gh-home-splide" aria-label="Home carousel">
                    <div class="splide__track">
                        <ul class="splide__list">
                            {{#foreach posts}}
                                <li class="splide__slide">
                                    <div class="gh-home-slide">
                                        <div class="gh-home-slide-image">
                                            {{#if feature_image}}
                                                <img src="{{img_url feature_image size="xxl"}}" alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}">
                                            {{else}}
                                                <img src="{{asset "images/radwagon5-9.webp"}}" alt="{{title}}">
                                            {{/if}}
                                        </div>
                                        <div class="gh-home-slide-text">
                                            <h2 class="gh-home-slide-heading">{{title}}</h2>
                                            <div class="gh-home-slide-subheading" data-markdown="{{#if custom_excerpt}}{{custom_excerpt}}{{else}}{{excerpt}}{{/if}}"></div>
                                        </div>
                                    </div>
                                </li>
                            {{/foreach}}
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    {{/if}}
{{/get}}
